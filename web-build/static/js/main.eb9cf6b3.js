(()=>{"use strict";var e={3956:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(5861),o=n(885),r=n(9526),i=n(4333),l=n(9233),d=n(1133),s=n(1451),u=n(9566),c=n(3497),f=n(3292),m=n(5690),p=n(2727),g=n(7377),h=n(8083),x=n(9880),y=n(8614),b=n(5542),v=n(4152),j=n(9386),S=n(5060),w=n(8576),C=n(7557),I=(0,g.default)();function k(){var e=i.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:20},item:{flex:1},text:{color:"white",fontSize:16,fontFamily:"Montserrat-Bold"},button:{height:40,width:200,borderRadius:5,alignSelf:"center",margin:20,backgroundColor:"rgba(0,0,0,1)",justifyContent:"center",alignItems:"center"}}),t=(0,h.useFonts)({"Montserrat-Bold":n(5159)}),l=(0,o.default)(t,1)[0];(0,r.useCallback)((0,a.default)((function*(){l&&(yield x.hideAsync())})),[l]);return l?(0,C.jsxs)(w.default,{contentContainerStyle:e.container,children:[(0,C.jsx)(m.default,{children:(0,C.jsxs)(I.Navigator,{initialRouteName:"Home",screenOptions:function(){return{headerShown:!1}},children:[(0,C.jsx)(I.Screen,{name:"Home",component:T}),(0,C.jsx)(I.Screen,{name:"Agendamento",component:P})]})}),(0,C.jsx)(f.default,{style:"auto"})]}):null}function P(e){var t=e.navigation,n=e.route,u=(0,r.useState)(void 0===n.params?null:n.params.item.id),f=(0,o.default)(u,2),m=f[0],p=(f[1],(0,r.useState)(void 0===n.params?null:n.params.item.nome)),g=(0,o.default)(p,2),h=g[0],x=g[1],y=(0,r.useState)(void 0===n.params?null:n.params.item.cpf),w=(0,o.default)(y,2),I=w[0],k=w[1],P=(0,r.useState)(void 0===n.params?null:n.params.item.cartaoSus),T=(0,o.default)(P,2),M=T[0],O=T[1],A=(0,r.useState)(void 0===n.params?null:n.params.item.motivo),F=(0,o.default)(A,2),B=F[0],z=F[1],L=(0,r.useState)(new Date),V=(0,o.default)(L,2),_=V[0],R=V[1],D=(0,r.useState)(),H=(0,o.default)(D,2),N=H[0],U=H[1],E=(0,r.useState)(void 0===n.params?null:n.params.item.urgencia),W=(0,o.default)(E,2),q=W[0],J=W[1],G=(0,r.useState)(void 0===n.params?null:n.params.item.medico),Y=(0,o.default)(G,2),K=Y[0],Q=Y[1],X=(0,r.useState)(void 0===n.params?null:n.params.item.profissional),Z=(0,o.default)(X,2),$=Z[0],ee=Z[1],te=(0,r.useState)(void 0===n.params?null:n.params.tipo),ne=(0,o.default)(te,2),ae=ne[0];ne[1];function oe(){return(oe=(0,a.default)((function*(){fetch("http://127.0.0.1:3000/agendamento",{method:"POST",body:JSON.stringify({id:m,nome:h,cpf:I,cartaoSus:M,motivo:B,data_agendamento:new Date(_.getFullYear(),_.getMonth(),_.getDate(),parseInt(N.slice(0,2))-4,parseInt(N.slice(2,4)),parseInt("000")),urgencia:q,medico:K,profissional:$,tipo:ae}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){e.json().then((function(e){"Hor\xe1rio Indispon\xedvel para esse m\xe9dico"===e&&alert(e)}))})).catch((function(e){console.log(e)})).finally((function(){t.navigate("Home")}))}))).apply(this,arguments)}var re=i.default.create({containerView:{flex:1,alignItems:"center",justifyContent:"center",padding:20},logoText:{color:"black",fontSize:40,fontWeight:"800",textAlign:"center",fontFamily:"Montserrat-Bold"},formInscView:{flex:1,paddingHorizontal:30,paddingVertical:10},textApr:{fontSize:28,alignSelf:"center",marginVertical:10,color:"black",fontFamily:"Montserrat-Bold"},textPer:{fontSize:18,color:"black",fontFamily:"Montserrat-Bold",marginVertical:5},formIsncTextInput:{width:300,height:50,color:"black",fontSize:14,borderRadius:5,borderWidth:1,paddingLeft:10,marginVertical:5,fontFamily:"Montserrat-Bold"},formIsncPickerInput:{color:"black",width:300,height:50,fontSize:14,borderRadius:5,paddingLeft:5,marginVertical:5,fontFamily:"Montserrat-Bold"},inscButton:{backgroundColor:"black",borderRadius:50,height:50,marginTop:10,width:"100%",alignItems:"center",justifyContent:"center"},inscButtonText:{fontSize:18,color:"white",fontFamily:"Montserrat-Bold"}});return(0,C.jsx)(v.SafeAreaProvider,{style:re.containerView,children:(0,C.jsxs)(d.default,{style:re.formInscView,children:[(0,C.jsx)(l.default,{style:re.textApr,children:"Agendar"}),(0,C.jsx)(c.default,{placeholder:"Nome do Paci\xeante",value:h,maxLength:100,style:re.formIsncTextInput,onChangeText:function(e){x(e)}}),(0,C.jsx)(j.default,{value:I,style:re.formIsncTextInput,keyboardType:"numeric",onChangeText:function(e){k(e)},mask:[/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,"-",/\d/,/\d/]}),(0,C.jsx)(c.default,{placeholder:"Cartao do SUS",value:M,keyboardType:"numeric",style:re.formIsncTextInput,onChangeText:function(e){O(e)}}),(0,C.jsx)(c.default,{placeholder:"Motivo do Atendimento (255 caracteres)",value:B,multiline:!0,maxLength:255,textAlignVertical:"top",style:re.formIsncTextInput,onChangeText:function(e){z(e)}}),(0,C.jsx)(b.DatePickerInput,{locale:"pt",style:{backgroundColor:"white",borderRadius:5,borderWidth:1,height:40},label:"Data do Agendamento",value:_,onChange:function(e){return R(e)},inputMode:"start"}),(0,C.jsx)(j.default,{value:N,style:re.formIsncTextInput,keyboardType:"numeric",onChangeText:function(e,t){U(t)},mask:[/\d/,/\d/,":",/\d/,/\d/]}),(0,C.jsxs)(S.Picker,{selectedValue:q,style:re.formIsncPickerInput,onValueChange:function(e,t){return J(e)},children:[(0,C.jsx)(S.Picker.Item,{label:"Baixa",value:"baixa"}),(0,C.jsx)(S.Picker.Item,{label:"M\xe9dia",value:"media"}),(0,C.jsx)(S.Picker.Item,{label:"Alta",value:"alta"}),(0,C.jsx)(S.Picker.Item,{label:"Urgente",value:"urgente"})]}),(0,C.jsx)(c.default,{placeholder:"Nome do M\xe9dico",value:K,maxLength:100,style:re.formIsncTextInput,onChangeText:function(e){Q(e)}}),(0,C.jsx)(c.default,{placeholder:"Nome do Profissional que Realizou o Agendamento",value:$,maxLength:100,style:re.formIsncTextInput,onChangeText:function(e){ee(e)}}),(0,C.jsx)(s.default,{style:re.inscButton,onPress:function(){return function(){return oe.apply(this,arguments)}()},children:(0,C.jsx)(l.default,{style:re.inscButtonText,children:"Cadastrar Atendimento"})})]})})}function T(e){var t=e.navigation,n=(0,r.useState)([]),a=(0,o.default)(n,2),c=a[0],f=a[1],m=(0,r.useState)(new Date),g=(0,o.default)(m,2),h=g[0],x=g[1],j=i.default.create({container:{alignItems:"center",justifyContent:"center",padding:20},item:{flex:1},text:{color:"white",fontSize:16,fontFamily:"Montserrat-Bold"},button:{height:40,width:200,borderRadius:5,alignSelf:"center",margin:20,backgroundColor:"rgba(0,0,0,1)",justifyContent:"center",alignItems:"center"}});return(0,p.useFocusEffect)((0,r.useCallback)((function(){fetch("http://127.0.0.1:3000/agendamentos?"+new URLSearchParams({filtro:h.toJSON().slice(0,10)}),{method:"GET"}).then((function(e){return e.json().then((function(e){return f(e)}))}))}),[h])),(0,C.jsx)(d.default,{style:j.container,children:(0,C.jsx)(u.default,{data:c,keyExtractor:function(e){return e.id},ListHeaderComponent:function(){return(0,C.jsx)(v.SafeAreaProvider,{style:{flexDirecton:"row",padding:10,maxHeight:200},children:(0,C.jsx)(b.DatePickerInput,{locale:"pt",dateFormat:"yyyy/MM/dd",style:{backgroundColor:"white",borderRadius:5,borderWidth:1,height:40},label:"Filtrar Agendamentos a partir de: ",value:h,onChange:function(e){return x(e)},inputMode:"start"})})},ListFooterComponent:function(){return(0,C.jsx)(s.default,{style:j.button,onPress:function(){t.navigate("Agendamento")},children:(0,C.jsx)(l.default,{style:{color:"white",fontFamily:"Montserrat-Bold"},children:"Adicionar Agendamento"})})},renderItem:function(e){var n=e.item;return(0,C.jsxs)(d.default,{style:{backgroundColor:"baixa"===n.urgencia.toLowerCase()?"rgba(0,0,255,0.8)":"media"===n.urgencia.toLowerCase()?"rgba(0,255,0,0.8)":"alta"===n.urgencia.toLowerCase()?"rgba(255,215,0,0.8)":"urgente"===n.urgencia.toLowerCase()?"rgba(255,0,0,0.8)":null,height:200,width:500,borderRadius:20,paddingHorizontal:20,paddingVertical:10,margin:5,justifyContent:"space-around"},children:[(0,C.jsxs)(l.default,{style:{color:"white",fontSize:16,fontFamily:"Montserrat-Bold",alignSelf:"center",justifyContent:"center",paddingBottom:5,textTransform:"capitalize"},children:["Urgencia: ",n.urgencia]}),(0,C.jsx)(s.default,{style:{position:"absolute",alignSelf:"flex-end"},onPress:function(){t.navigate("Agendamento",{item:n,tipo:"editar"})},children:(0,C.jsx)(y.default,{name:"pencil",size:24,color:"white"})}),(0,C.jsxs)(l.default,{style:j.text,children:["Nome do Paciente: ",n.nome]}),(0,C.jsxs)(l.default,{style:j.text,children:["CPF do Paciente: ",n.cpf]}),(0,C.jsxs)(l.default,{style:j.text,children:["Cart\xe3o do SUS do Paciente: ",n.cartaoSus]}),(0,C.jsxs)(l.default,{style:j.text,children:["Motivo do Atendimento: ",n.motivo]}),(0,C.jsxs)(l.default,{style:j.text,children:["Data: ",new Date(n.data_agendamento).toLocaleString()]}),(0,C.jsxs)(l.default,{style:j.text,children:["M\xe9dico: ",n.medico]}),(0,C.jsxs)(l.default,{style:j.text,children:["Profissional que realizou o agendamento: ",n.profissional]})]})}})})}(0,b.registerTranslation)("pt",b.pt),x.preventAutoHideAsync()},5159:(e,t,n)=>{e.exports=n.p+"static/media/Montserrat-Bold.d0ca82d8ca07ba209aee.ttf"}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,(()=>{var e=[];n.O=(t,a,o,r)=>{if(!a){var i=1/0;for(u=0;u<e.length;u++){for(var[a,o,r]=e[u],l=!0,d=0;d<a.length;d++)(!1&r||i>=r)&&Object.keys(n.O).every((e=>n.O[e](a[d])))?a.splice(d--,1):(l=!1,r<i&&(i=r));if(l){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,o,r]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,o){if(1&o&&(a=this(a)),8&o)return a;if("object"===typeof a&&a){if(4&o&&a.__esModule)return a;if(16&o&&"function"===typeof a.then)return a}var r=Object.create(null);n.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&o&&a;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>a[e]));return i.default=()=>a,n.d(r,i),r}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var o,r,[i,l,d]=a,s=0;if(i.some((t=>0!==e[t]))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(d)var u=d(n)}for(t&&t(a);s<i.length;s++)r=i[s],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},a=self.webpackChunkweb=self.webpackChunkweb||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n.O(void 0,[163],(()=>n(9484)));a=n.O(a)})();
//# sourceMappingURL=main.eb9cf6b3.js.map